<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>My Store</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
   
</head>
<body>
    <script src="products.js"></script>    
    <script src="index.js"></script>  

    

    <div id="viewCartId">
        <button onclick="alert('view the cart')">View Cart</button>
    </div>    

    <div id="searchBarDivId">
        <b>Search for an Item:</b>
        <input type="text" name="searchBar" id="searchBarId">
        <button onclick="searchForItemView()">Search</button>
    </div>

    <div id="productNamesListId">
        <script>
            var productNamesDOM = document.getElementById('productNamesListId');
            productNamesDOM.innerHTML = "";//getListOfProductNames();
            

            function searchForItemView() {
                var toLookFor = document.getElementById('searchBarId').value;
                renderItems(GetItems(toLookFor));
            }

            function renderItems(productsToRender) {
                var productNamesDOM = document.getElementById('productNamesListId');
                                
                var startTag = "<ul>";
                var endTag = "</ul>";

                var elements = "";
                for (var i = 0; i < productsToRender.length; i++) {
                    console.log("Rendering... " + productsToRender[i].name);
                    let myProduct = productsToRender[i];
                    elements += "<li> " + myProduct.name + " <button onclick="+'addToCart('+ myProduct._id +')'+">Add To Cart?</button> "
                            + " <ul>" 
                            + "<li> Rating: " + myProduct.rating + " </li>"
                            + "<li> Reviews: " + myProduct.reviews.length + " </li>"
                            + "<li> Price: " + myProduct.price + " </li>" 
                            + " </ul>" 
                            + " </li>"
                }
                
                productNamesDOM.innerHTML = startTag + elements + endTag; 
            }
        </script>
    </div>

    
</body>
</html>